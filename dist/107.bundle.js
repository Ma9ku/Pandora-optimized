"use strict";(self.webpackChunkpandora=self.webpackChunkpandora||[]).push([[107],{49107:(e,t,n)=>{n.r(t),n.d(t,{default:()=>me});var a=n(96540),l=n(47767),r=n(71083),o=n(85072),s=n.n(o),i=n(97825),c=n.n(i),d=n(77659),m=n.n(d),u=n(55056),p=n.n(u),h=n(10540),f=n.n(h),g=n(41113),v=n.n(g),R=n(12511),A={};A.styleTagTransform=v(),A.setAttributes=p(),A.insert=m().bind(null,"head"),A.domAPI=c(),A.insertStyleElement=f(),s()(R.A,A),R.A&&R.A.locals&&R.A.locals;var y=n(98587),E=n(58168),x=n(34164),b=n(75659),w=n(771),S=n(11848),C=n(25669),N=n(6025),z=n(28466),k=n(60538),j=n(38413),I=n(31609);function M(e){return(0,I.Ay)("MuiAlert",e)}const U=(0,j.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var B=n(11641),$=n(75003),D=n(74848);const T=(0,$.A)((0,D.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),P=(0,$.A)((0,D.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),L=(0,$.A)((0,D.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),O=(0,$.A)((0,D.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),F=(0,$.A)((0,D.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),q=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],H=(0,S.Ay)(k.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,z.A)(n.color||n.severity)}`]]}})((({theme:e})=>{const t="light"===e.palette.mode?w.e$:w.a,n="light"===e.palette.mode?w.a:w.e$;return(0,E.A)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:t(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:n(e.palette[a].light,.9),[`& .${U.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}}))),...Object.entries(e.palette).filter((([,e])=>e.main&&e.light)).map((([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:t(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${U.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}}))),...Object.entries(e.palette).filter((([,e])=>e.main&&e.dark)).map((([t])=>({props:{colorSeverity:t,variant:"filled"},style:(0,E.A)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})})))]})})),W=(0,S.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),_=(0,S.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),V=(0,S.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Z={success:(0,D.jsx)(T,{fontSize:"inherit"}),warning:(0,D.jsx)(P,{fontSize:"inherit"}),error:(0,D.jsx)(L,{fontSize:"inherit"}),info:(0,D.jsx)(O,{fontSize:"inherit"})},J=a.forwardRef((function(e,t){const n=(0,C.b)({props:e,name:"MuiAlert"}),{action:a,children:l,className:r,closeText:o="Close",color:s,components:i={},componentsProps:c={},icon:d,iconMapping:m=Z,onClose:u,role:p="alert",severity:h="success",slotProps:f={},slots:g={},variant:v="standard"}=n,R=(0,y.A)(n,q),A=(0,E.A)({},n,{color:s,severity:h,variant:v,colorSeverity:s||h}),w=(e=>{const{variant:t,color:n,severity:a,classes:l}=e,r={root:["root",`color${(0,z.A)(n||a)}`,`${t}${(0,z.A)(n||a)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,b.A)(r,M,l)})(A),S={slots:(0,E.A)({closeButton:i.CloseButton,closeIcon:i.CloseIcon},g),slotProps:(0,E.A)({},c,f)},[k,j]=(0,N.A)("closeButton",{elementType:B.A,externalForwardedProps:S,ownerState:A}),[I,U]=(0,N.A)("closeIcon",{elementType:F,externalForwardedProps:S,ownerState:A});return(0,D.jsxs)(H,(0,E.A)({role:p,elevation:0,ownerState:A,className:(0,x.A)(w.root,r),ref:t},R,{children:[!1!==d?(0,D.jsx)(W,{ownerState:A,className:w.icon,children:d||m[h]||Z[h]}):null,(0,D.jsx)(_,{ownerState:A,className:w.message,children:l}),null!=a?(0,D.jsx)(V,{ownerState:A,className:w.action,children:a}):null,null==a&&u?(0,D.jsx)(V,{ownerState:A,className:w.action,children:(0,D.jsx)(k,(0,E.A)({size:"small","aria-label":o,title:o,color:"inherit",onClick:u},j,{children:(0,D.jsx)(I,(0,E.A)({fontSize:"small"},U))}))}):null]}))}));var Q=n(69067),G=n(52848),K=n(64137),X=n(43884),Y=n(14774),ee=n(33198),te=n(96627),ne=n(86798),ae=n(14073),le=n(9483),re=n(39118);function oe(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},se.apply(null,arguments)}const ie=n(93589).A+"/main";class ce extends a.Component{constructor(){super(...arguments),oe(this,"state",{user:{},date:"",allRequsetNum:0,todayRequsetNum:0,logs:[],role:"",newRole:0,id:0}),oe(this,"componentDidMount",(()=>{r.A.get("".concat(ie,"/getuserdetails"),{params:{username:this.props.username.username}}).then((e=>{const t=e.data;console.log(e.data);let n=e.data.user,a=e.data.role,l=e.data.date;this.setState({user:n,role:a,date:l,allRequsetNum:t.allRequsetNum,todayRequsetNum:t.todayRequsetNum,logs:t.logs})}))})),oe(this,"promote",(async e=>{const t=JSON.parse(localStorage.getItem("user"));r.A.defaults.headers.common.Authorization="Bearer "+t.accessToken,r.A.get("".concat(ie,"/changeUserRole"),{params:{user:e,role:this.state.newRole}}).then((e=>{200==e.status&&(document.getElementById("alertofChange").style.display="block")}))})),oe(this,"rels",(e=>{console.log(e)})),oe(this,"search",(async e=>{r.A.get("".concat(ie,"/admin/searchuserlogs"),{params:{value:e,username:this.state.user.username}}).then((e=>{const t=e.data;this.setState({logs:t})}))})),oe(this,"onChangeHandler",(async e=>{this.search(e.target.value),this.state.value=e.target.value})),oe(this,"setNumbers",(()=>null==this.state.date?React.createElement("div",null,"Нет даты"):React.createElement(React.Fragment,null,React.createElement("div",null,this.state.date.slice(11,19)),React.createElement("div",null,this.state.date.slice(0,10)))))}render(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"userDetailsBlock"},React.createElement("div",null,React.createElement("div",{className:"userFirstBlock"},React.createElement("div",{className:"userInfo"},React.createElement("div",null,React.createElement("span",null,this.state.user.username),":",React.createElement("span",null,this.state.role)),React.createElement("div",null,this.state.user.email)),React.createElement("select",{name:"roles",id:"connectionsUserDetails",onChange:e=>{let t;"vip"==e.target.value?t=2:"1"==e.target.value?t=3:"2"==e.target.value?t=4:"3"==e.target.value&&(t=5),this.setState({newRole:t})}},React.createElement("option",null,"Уровень доступа"),React.createElement("option",{value:"vip"},"ВИП"),React.createElement("option",{value:"1"},"1 уровень"),React.createElement("option",{value:"2"},"2 уровень"),React.createElement("option",{value:"3"},"3 уровень")),React.createElement("button",{className:"changeRole",onClick:e=>this.promote(this.state.user.id)},"Изменить")),React.createElement("div",{id:"alertofChange",style:{display:"none"}},React.createElement(J,{severity:"success",style:{backgroundColor:"#17191C"}},"Уровень доступа пользователя изменен успешно! Перезагрузите страницу для того чтобы обновить данные")),React.createElement("div",{className:"countStatsUser"},React.createElement("div",{className:"lastQuery"},React.createElement("div",null,"Последний запрос"),this.setNumbers()),React.createElement("div",null,React.createElement("div",null,"Количество запросов"),React.createElement("div",null,this.state.allRequsetNum)),React.createElement("div",null,React.createElement("div",null,"Количество запросов сегодня"),React.createElement("div",null,this.state.todayRequsetNum))),React.createElement("div",null,React.createElement("input",{value:this.state.value,onChange:e=>this.onChangeHandler(e),type:"text",className:"searchUsers",placeholder:"Поиск по запросам"}),React.createElement(ee.A,null,React.createElement(K.A,{"aria-label":"collapsible table",className:"userDetailsTable"},React.createElement(te.A,null,React.createElement(ne.A,{className:"uitableHead",colSpan:4},React.createElement(Y.A,{style:{width:"5%"},align:"left"},React.createElement("a",{className:"userDetailsTable"},"#")),React.createElement(Y.A,{style:{width:"20%"},align:"left"},React.createElement("a",{className:"userDetailsTable"},"Дата и время")),React.createElement(Y.A,{style:{width:"60%"},align:"left"},React.createElement("a",{className:"userDetailsTable"},"Запрос")),React.createElement(Y.A,{style:{width:"15%"},colSpan:2}))),React.createElement(X.A,null,this.state.logs.length>0?this.state.logs.map(((e,t)=>React.createElement(de,{row:e,index:t}))):React.createElement(Y.A,{className:"zeroResult",align:"center",colSpan:4,style:{borderBottom:"hidden"}},React.createElement("a",{className:"noUserDetails"},"Нет данных")))))))),React.createElement("div",{className:"footer"}))}}function de(e){const{row:t}=e,[n,l]=(0,a.useState)(!1);return React.createElement(React.Fragment,null,React.createElement(ne.A,{hover:!0,className:"userDetailsRow"},React.createElement(Y.A,null,React.createElement("a",null,e.index+1)),React.createElement(Y.A,{style:{},align:"left"},React.createElement("a",null,t.date.slice(0,10)," ",t.date.slice(11,19))),React.createElement(Y.A,{style:{},align:"left"},React.createElement("a",null,t.obwii)),React.createElement(Y.A,null,React.createElement("a",null,t.fat)),React.createElement(Y.A,null,React.createElement(B.A,{"aria-label":"expand row",size:"small",onClick:()=>l(!n)},n?React.createElement(re.A,{style:{fill:"#ffffff"}}):React.createElement(le.A,{style:{fill:"#ffffff"}})))),React.createElement(ne.A,null,React.createElement(Y.A,{style:{paddingBottom:0,paddingTop:0},colSpan:6},React.createElement(G.A,{in:n,timeout:"auto",unmountOnExit:!0},React.createElement(Q.A,{sx:{margin:1}},React.createElement(ae.A,{variant:"h6",gutterBottom:!0,component:"div"},React.createElement("a",{style:{fontSize:"15px"}},"Информация о запросе")),React.createElement(K.A,{size:"small","aria-label":"purchases"},React.createElement(te.A,null,React.createElement(ne.A,null,React.createElement(Y.A,{style:{width:"20%"},align:"left"},React.createElement("a",null,"Основание запроса")),React.createElement(Y.A,{style:{width:"80%"},align:"left"},React.createElement("a",null,t.approvement_data?t.approvement_data:"Нет данных"))),React.createElement(ne.A,null,React.createElement(Y.A,{style:{width:"20%"},align:"left"},React.createElement("a",null,"Объекты запроса")),React.createElement(Y.A,{style:{width:"80%"},align:"left"},React.createElement("a",null,t.request_body.join(",")))),React.createElement(ne.A,null,React.createElement(Y.A,{style:{width:"20%"},align:"left"},React.createElement("a",null,"Лимит")),React.createElement(Y.A,{style:{width:"80%"},align:"left"},React.createElement("a",null,t.limit_?t.limit_:"Лимит не установлен"))),React.createElement(ne.A,{style:{borderBottom:"hidden"}},React.createElement(Y.A,{style:{width:"20%"},align:"left"},React.createElement("a",null,"Уровень")),React.createElement(Y.A,{style:{width:"80%"},align:"left"},React.createElement("a",null,t.depth_?t.depth_:"Уровень не установлен"))))))))))}const me=(ue=ce,e=>React.createElement(ue,se({},e,{username:(0,l.g)()})));var ue},12511:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(31601),l=n.n(a),r=n(76314),o=n.n(r)()(l());o.push([e.id," /* th a {\n    text-decoration: none; \n    color: rgba(255, 255, 255, 0.3);\n  } */\n\n  .userDetailsTable a {\n      color: #ffffff;\n    }\n    \n    .noUserDetails{\n        color: #a1a1a1 !important;\n        margin-top: 20px;\n        font-family: 'Ubuntu';\n        font-weight: 700;\n        font-size: 30px;\n    }\n    \n    .userDetailsTable {\n        color: #616161 ;\n        font-family: 'Ubuntu';\n        font-weight: 700;\n        font-size: 20px;\n    }\n    \n    .userDetailsRow {\n        color: #ffffff;\n        overflow: hidden;\n    }\n    \n    .uiRelsPart {\n        width: 100px;\n    }\n    .userDetailsBlock {\n        \n        display: flex;\n        width: 100%;\n        justify-content: center;\n        align-items: center;\n        \n        padding-top: 70px;\n    }\n    \n    .userDetailsBlock > div {\n        display: flex;\n        flex-direction: column;\n        gap: 40px;\n        \n        width: 1100px;\n    }\n    \n    .userDetailsBlock > div > div:nth-child(1) {\n        \n    }\n#connectionsUserDetails {\n    border-radius: 4px 0 0 4px;\n    font-size: 15px;\n    width: 25%;\n    height: 33px;\n}\n.userFirstBlock {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding-right: 40px;\n}\n.userFirstBlock button {\n    font-size: 15px;\n    border-radius: 0 4px 4px 0;\n    background-color: rgb(192, 192, 192);\n    padding: 5px 10px;\n    cursor: pointer;\n    height: 33px;\n    border: none;\n    transition: all ease 0.2s;\n}\n\n\n.userFirstBlock button:hover {\n    background-color: rgb(133, 133, 133);\n    transition: all ease 0.2s;\n}\n\n\n.userInfo {\n    display: flex;\n    flex-direction: column;\n    width: 90%;\n}\n\n.userInfo > div {\n    margin: 0;\n}\n\n.userInfo > div:nth-child(1) > span {\n    font-family: 'Ubuntu';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 35px;\n}\n\n.userInfo > div:nth-child(1) {\n    font-size: 35px;\n}\n\n.userInfo > div:nth-child(1) > span:nth-child(1) {\n    color: #ffffff !important;\n}\n\n.userInfo > div:nth-child(1) > span:nth-child(2) {\n    color: #616161 !important;\n}\n\n.userInfo > div:nth-child(2) {\n    color: #808080;\n    margin-top: -2px;\n    margin-left: 2px;\n}\n\n.countStatsUser {\n    \n    display: flex;\n    flex-direction: row;\n    gap: 20px;\n}\n\n.countStatsUser > div {\n    width: 324px;\n    \n    border: 1px rgba(255, 255, 255, .4) solid;\n    display: flex;\n    flex-direction: column;\n    \n    padding: 15px 0 0 15px;\n    border-radius: 2px;\n    \n}\n\n.countStatsUser > div div:nth-child(1) {\n    font-family: 'Ubuntu';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 15px;\n    \n    color: #717171;\n}\n\n\n.countStatsUser > div:nth-child(2) div:nth-child(2),\n.countStatsUser > div:nth-child(3) div:nth-child(2) \n{\n    font-family: 'Ubuntu';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 96px;\n    \n    margin-left: 0px;\n    margin-top: -8px;\n}\n\n.countStatsUser > div:nth-child(1) div:nth-child(2),\n.countStatsUser > div:nth-child(1) div:nth-child(3) \n{\n    font-family: 'Ubuntu';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 40px;\n    \n    margin-left: 0px;\n    margin-top: -8px;\n}\n\n.countStatsUser > div:nth-child(1) div:nth-child(1) {\n    margin-bottom: 15px;\n}\n\n\n\n/* .dopInfa {\n    padding-left: 3%;\n    padding-right: 1%;\n    opacity: 1;\n    height: fit-content;\n    display: table-cell;\n}\n\n.dopInfa.hidden {\n    display: none;\n    opacity: 0;\n    height: 0;\n    visibility: collapse;\n}\n\n.dopInfa.visible {\n    display: table-cell;\n    opacity: 1;\n    height: fit-content;\n    visibility: visible;\n} */\n\n\n.searchUsers {\n    background: none;\n    color: #ffffff;\n    width: 100%;\n    border: none;\n    border-bottom: 1px solid rgb(143, 143, 143);\n    font-size: 1em;\n    transition: all ease .5s;\n    \n    padding-bottom: 10px;\n    margin-bottom: 30px;\n}\n\n.searchUsers:focus {\n    border-bottom: 1px solid white;\n    transition: all ease .5s;\n}\n\n\n.grid-container {\n    display: grid;\n    grid-template-columns: 5% 30% 30% 30% 5%;\n}\n.grid-header {\n    font-weight: 700;\n    font-size: 1.5em;\n    text-align: start;\n}\n.grid-body {\n    font-weight: 700;\n    font-size: 1.5em;\n    text-align: start;\n}\n\n.arrow-down {\n    color: #ffffff;\n    cursor: pointer;\n    transition: all ease 0.2s;\n    \n}\n.arrow-down:hover {\n    color: #a3a3a3;\n    transition: all ease 0.2s;\n    \n}\n/*\n*/\n.footer {\n    height: 250px;\n} \n\n",""]);const s=o}}]);